@model IEnumerable<Category>

<!-- Categories -->
<div class="card mb-4 border-0 shadow-sm rounded-3">
    <div class="card-header bg-warning text-dark d-flex align-items-center fw-bold">
        <i class="bi bi-list-ul me-2"></i>
        <h6 class="mb-0">Danh mục</h6>
    </div>
    <ul class="list-group list-group-flush">
        @foreach (var c in Model)
        {
            <li class="list-group-item px-3 py-2">
                <a asp-action="Index" asp-controller="Product"
                   asp-route-cid="@c.CategoryId"
                   asp-route-search="@ViewBag.Search"
                   asp-route-minPrice="@ViewBag.MinPrice"
                   asp-route-maxPrice="@ViewBag.MaxPrice"
                   asp-route-sort="@ViewBag.Sort"
                   class="text-decoration-none d-block text-dark fw-medium hover-link">
                    <i class="bi bi-chevron-right small me-1 text-warning"></i>
                    @c.CategoryName
                </a>
            </li>
        }
    </ul>
</div>

<!-- Price Filter -->
<div class="card mb-4 border-0 shadow-sm rounded-3">
    <div class="card-header bg-warning text-dark d-flex align-items-center fw-bold">
        <i class="bi bi-funnel me-2"></i>
        <h6 class="mb-0">Lọc theo giá</h6>
    </div>
    <div class="card-body">
        <form asp-action="Index" asp-controller="Product" class="filter-form">
            <input type="hidden" name="cid" value="@ViewBag.Cid" />
            <input type="hidden" name="search" value="@ViewBag.Search" />

            <!-- Min - Max Price -->
            <div class="d-flex align-items-center mb-3">
                <div class="input-group me-2">
                    <span class="input-group-text bg-light fw-bold">Min</span>
                    <input type="number" name="minPrice" class="form-control"
                           value="@ViewBag.MinPrice" min="0" />
                </div>
                <div class="input-group">
                    <span class="input-group-text bg-light fw-bold">Max</span>
                    <input type="number" name="maxPrice" class="form-control"
                           value="@ViewBag.MaxPrice" min="0" />
                </div>
            </div>

            <!-- Sort -->
            <div class="mb-3">
                <label class="form-label fw-bold text-dark">Sắp xếp theo giá</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="sort" value="asc"
                           @(ViewBag.Sort == "asc" || ViewBag.Sort == "" || ViewBag.Sort == null ? "checked" : "") />
                    <label class="form-check-label">Thấp đến cao</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="sort" value="desc"
                           @(ViewBag.Sort == "desc" ? "checked" : "") />
                    <label class="form-check-label">Cao đến thấp</label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 rounded-pill">
                <i class="bi bi-filter-circle me-1"></i> Áp dụng
            </button>
        </form>
    </div>
</div>

